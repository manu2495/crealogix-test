"use strict";(self.webpackChunkcrealogix_test=self.webpackChunkcrealogix_test||[]).push([[84],{4084:(_,u,c)=>{c.r(u),c.d(u,{SpeciesModule:()=>q});var l=c(8583),p=c(6901),e=c(639),m=c(3763),d=c(6215),S=c(5758),Z=c(5917),h=c(8002),v=c(9773);class g{constructor(t){this.name="",this.skinColors="",this.language="",this.classification="",this.averageLifespan="",this.homeWorld="",t&&(this.name=t.name,this.skinColors=t.skin_colors,this.language=t.language,this.classification=t.classification,this.averageLifespan=t.average_lifespan,this.homeWorld=t.homeWorld)}}var T=c(1841);let f=(()=>{class s{constructor(i){this.http=i,this.species$=new d.X(void 0)}getSpecies$(i=""){let n="https://swapi.dev/api/species";return""!==i&&(n=`${n}?search=${i}`),this.http.get(n).pipe((0,h.U)(o=>o.results),(0,v.zg)(o=>(0,S.D)(o.map(r=>r.homeworld?this.http.get(r.homeworld).pipe((0,h.U)(a=>new g(Object.assign(Object.assign({},r),{homeWorld:a.name})))):(0,Z.of)(new g(Object.assign(Object.assign({},r),{homeWorld:"N/A"})))))))}getSpecies(){return this.species$.asObservable()}setSpecies(i){this.species$.next(i)}}return s.\u0275fac=function(i){return new(i||s)(e.LFG(T.eN))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function A(s,t){1&s&&(e.TgZ(0,"div",3),e._uU(1,"loading species..."),e.qZA())}function C(s,t){if(1&s){const i=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"button",4),e.NdJ("click",function(){return e.CHM(i),e.oxw().initSpecies()}),e._UZ(2,"i",5),e._uU(3," Show all records"),e.qZA(),e.qZA()}}function b(s,t){if(1&s){const i=e.EpF();e.TgZ(0,"tr",9),e.NdJ("click",function(){const r=e.CHM(i).$implicit;return e.oxw(2).showSpecies(r)}),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.qZA()}if(2&s){const i=t.$implicit;e.xp6(2),e.Oqu(null==i?null:i.name),e.xp6(2),e.Oqu(null==i?null:i.classification),e.xp6(2),e.Oqu(null==i?null:i.language)}}function L(s,t){if(1&s&&(e.ynx(0),e.TgZ(1,"div",6),e.TgZ(2,"table",7),e.TgZ(3,"thead"),e.TgZ(4,"tr"),e.TgZ(5,"th"),e._uU(6,"Name"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Classification"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Language"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"tbody"),e.YNc(12,b,7,3,"tr",8),e.qZA(),e.qZA(),e.qZA(),e.BQk()),2&s){const i=t.ngIf;e.xp6(12),e.Q6J("ngForOf",i)}}const U=[{path:"",component:(()=>{class s{constructor(i,n,o,r){this.router=i,this.searchService=n,this.speciesService=o,this.activatedRoute=r,this.hasParams=!1,this.reloadList=!1,this.activatedRoute$=this.activatedRoute.queryParams.subscribe(a=>{a&&a.search?(this.hasParams=!0,this.reloadList=!0,this.onSearchSpecies(a.search),this.searchService.setSearchValues$(a.search,"/species")):this.initSpecies()}),this.searchValue$=this.searchService.getSearchValue$().subscribe(a=>{a&&"/species"===a.fromUrl&&(this.reloadList=!0,this.onSearchSpecies(a.value))})}ngOnInit(){}ngOnDestroy(){this.searchValue$&&this.searchValue$.unsubscribe(),this.activatedRoute$&&this.activatedRoute$.unsubscribe()}initSpecies(){this.reloadList=!1,this.species$=this.speciesService.getSpecies$(),this.hasParams&&this.router.navigate(["/species"]).then(()=>{this.hasParams=!1})}onSearchSpecies(i){this.species$=this.speciesService.getSpecies$(i)}showSpecies(i){this.speciesService.setSpecies(i),this.router.navigate(["/species/view"]).then()}}return s.\u0275fac=function(i){return new(i||s)(e.Y36(p.F0),e.Y36(m.o),e.Y36(f),e.Y36(p.gz))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-species-list"]],decls:5,vars:5,consts:[["loading",""],[4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"loading","ms-3"],[1,"btn","btn-outline-primary","mb-3","ms-3",3,"click"],[1,"fa","fa-refresh"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(i,n){if(1&i&&(e.YNc(0,A,2,0,"ng-template",null,0,e.W1O),e.YNc(2,C,4,0,"div",1),e.YNc(3,L,13,1,"ng-container",2),e.ALo(4,"async")),2&i){const o=e.MAs(1);e.xp6(2),e.Q6J("ngIf",n.reloadList),e.xp6(1),e.Q6J("ngIf",e.lcZ(4,3,n.species$))("ngIfElse",o)}},directives:[l.O5,l.sg],pipes:[l.Ov],styles:[""]}),s})()},{path:"view",component:(()=>{class s{constructor(i,n){this.router=i,this.speciesService=n,this.species$=this.speciesService.getSpecies().subscribe(o=>{o?this.species=o:this.router.navigate(["/species"]).then()})}ngOnInit(){}ngOnDestroy(){this.species$&&this.species$.unsubscribe()}}return s.\u0275fac=function(i){return new(i||s)(e.Y36(p.F0),e.Y36(f))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-species-view"]],decls:29,vars:7,consts:[[1,"card","mx-3"],[1,"card-body"],[1,"fw-bold"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-chevron-left"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"p"),e.TgZ(3,"span",2),e._uU(4,"Name:"),e.qZA(),e._uU(5),e.qZA(),e.TgZ(6,"p"),e.TgZ(7,"span",2),e._uU(8,"Skin Colors:"),e.qZA(),e._uU(9),e.qZA(),e.TgZ(10,"p"),e.TgZ(11,"span",2),e._uU(12,"Classification:"),e.qZA(),e._uU(13),e.qZA(),e.TgZ(14,"p"),e.TgZ(15,"span",2),e._uU(16,"Language:"),e.qZA(),e._uU(17),e.qZA(),e.TgZ(18,"p"),e.TgZ(19,"span",2),e._uU(20,"Average Lifespan:"),e.qZA(),e._uU(21),e.qZA(),e.TgZ(22,"p"),e.TgZ(23,"span",2),e._uU(24,"Home World:"),e.qZA(),e._uU(25),e.qZA(),e.TgZ(26,"button",3),e._UZ(27,"i",4),e._uU(28," GO BACK"),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(5),e.hij(" ",null==n.species?null:n.species.name,""),e.xp6(4),e.hij(" ",null==n.species?null:n.species.skinColors,""),e.xp6(4),e.hij(" ",null==n.species?null:n.species.classification,""),e.xp6(4),e.hij(" ",null==n.species?null:n.species.language,""),e.xp6(4),e.hij(" ",null==n.species?null:n.species.averageLifespan,""),e.xp6(4),e.hij(" ",null==n.species?null:n.species.homeWorld,""),e.xp6(1),e.Q6J("routerLink","/species"))},directives:[p.rH],styles:[""]}),s})()}];let $=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[p.Bz.forChild(U)],p.Bz]}),s})(),q=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[l.ez,$]]}),s})()}}]);