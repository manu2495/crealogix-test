"use strict";(self.webpackChunkcrealogix_test=self.webpackChunkcrealogix_test||[]).push([[756],{8756:(q,c,r)=>{r.r(c),r.d(c,{PeopleModule:()=>U});var h=r(8583),p=r(6901),e=r(639),m=r(3763),u=r(8002),d=r(9773),f=r(6215),Z=r(5758);class v{constructor(n){if(this.name="",this.height="",this.gender="",this.birthYear="",this.homeWorld="",n){let t="High";+n.height>=100&&+n.height<=200?t="Normal":+n.height<100&&(t="Small"),this.name=n.name,this.height=t,this.gender=n.gender,this.birthYear=n.birth_year,this.homeWorld=n.homeWorld}}}var P=r(1841);let g=(()=>{class o{constructor(t){this.http=t,this.person$=new f.X(void 0)}people$(t=""){let i="https://swapi.dev/api/people";return""!==t&&(i=`${i}?search=${t}`),this.http.get(i).pipe((0,u.U)(s=>s.results),(0,d.zg)(s=>(0,Z.D)(s.map(a=>this.http.get(a.homeworld).pipe((0,u.U)(l=>new v(Object.assign(Object.assign({},a),{homeWorld:l.name}))))))))}getPerson(){return this.person$.asObservable()}setPerson(t){this.person$.next(t)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(P.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function T(o,n){1&o&&(e.TgZ(0,"div",3),e._uU(1,"loading people..."),e.qZA())}function A(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"button",4),e.NdJ("click",function(){return e.CHM(t),e.oxw().initPeople()}),e._UZ(2,"i",5),e._uU(3," Show all records"),e.qZA(),e.qZA()}}function b(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"tr",9),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).showPerson(a)}),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.qZA()}if(2&o){const t=n.$implicit;e.xp6(2),e.Oqu(null==t?null:t.name),e.xp6(2),e.Oqu(null==t?null:t.height),e.xp6(2),e.Oqu(null==t?null:t.homeWorld)}}function _(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"div",6),e.TgZ(2,"table",7),e.TgZ(3,"thead"),e.TgZ(4,"tr"),e.TgZ(5,"th"),e._uU(6,"Name"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Height"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Homeworld"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"tbody"),e.YNc(12,b,7,3,"tr",8),e.qZA(),e.qZA(),e.qZA(),e.BQk()),2&o){const t=n.ngIf;e.xp6(12),e.Q6J("ngForOf",t)}}const C=[{path:"",component:(()=>{class o{constructor(t,i,s,a){this.router=t,this.searchService=i,this.peopleService=s,this.activatedRoute=a,this.hasParams=!1,this.reloadList=!1,this.activatedRoute$=this.activatedRoute.queryParams.subscribe(l=>{l&&l.search?(this.hasParams=!0,this.reloadList=!0,this.onSearchPeople(l.search),this.searchService.setSearchValues$(l.search,"/people")):this.initPeople()}),this.searchValue$=this.searchService.getSearchValue$().subscribe(l=>{""!==l&&(this.reloadList=!0,this.onSearchPeople(l))})}ngOnInit(){}ngOnDestroy(){this.searchValue$&&this.searchValue$.unsubscribe(),this.activatedRoute$&&this.activatedRoute$.unsubscribe()}initPeople(){this.reloadList=!1,this.people$=this.peopleService.people$(),this.hasParams&&this.router.navigate(["/people"]).then(()=>{this.hasParams=!1})}onSearchPeople(t){this.people$=this.peopleService.people$(t)}showPerson(t){this.peopleService.setPerson(t),this.router.navigate(["/people/view"]).then()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.F0),e.Y36(m.o),e.Y36(g),e.Y36(p.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-people-list"]],decls:5,vars:5,consts:[["loading",""],[4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"loading","ms-3"],[1,"btn","btn-outline-primary","mb-3","ms-3",3,"click"],[1,"fa","fa-refresh"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,i){if(1&t&&(e.YNc(0,T,2,0,"ng-template",null,0,e.W1O),e.YNc(2,A,4,0,"div",1),e.YNc(3,_,13,1,"ng-container",2),e.ALo(4,"async")),2&t){const s=e.MAs(1);e.xp6(2),e.Q6J("ngIf",i.reloadList),e.xp6(1),e.Q6J("ngIf",e.lcZ(4,3,i.people$))("ngIfElse",s)}},directives:[h.O5,h.sg],pipes:[h.Ov],styles:[""]}),o})()},{path:"view",component:(()=>{class o{constructor(t,i){this.router=t,this.peopleService=i,this.person$=this.peopleService.getPerson().subscribe(s=>{s?this.person=s:this.router.navigate(["/people"]).then()})}ngOnInit(){}ngOnDestroy(){this.person$&&this.person$.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.F0),e.Y36(g))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-people-view"]],decls:25,vars:6,consts:[[1,"card","mx-3"],[1,"card-body"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-chevron-left"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"p"),e.TgZ(3,"span"),e._uU(4,"Name:"),e.qZA(),e._uU(5),e.qZA(),e.TgZ(6,"p"),e.TgZ(7,"span"),e._uU(8,"Height:"),e.qZA(),e._uU(9),e.qZA(),e.TgZ(10,"p"),e.TgZ(11,"span"),e._uU(12,"Gender:"),e.qZA(),e._uU(13),e.qZA(),e.TgZ(14,"p"),e.TgZ(15,"span"),e._uU(16,"Birth Year:"),e.qZA(),e._uU(17),e.qZA(),e.TgZ(18,"p"),e.TgZ(19,"span"),e._uU(20,"Home World:"),e.qZA(),e._uU(21),e.qZA(),e.TgZ(22,"button",2),e._UZ(23,"i",3),e._uU(24," GO BACK"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.hij(" ",null==i.person?null:i.person.name,""),e.xp6(4),e.hij(" ",null==i.person?null:i.person.height,""),e.xp6(4),e.hij(" ",null==i.person?null:i.person.gender,""),e.xp6(4),e.hij(" ",null==i.person?null:i.person.birthYear,""),e.xp6(4),e.hij(" ",null==i.person?null:i.person.homeWorld,""),e.xp6(1),e.Q6J("routerLink","/people"))},directives:[p.rH],styles:["span[_ngcontent-%COMP%]{font-weight:bold}"]}),o})()}];let $=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[p.Bz.forChild(C)],p.Bz]}),o})(),U=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[h.ez,$]]}),o})()}}]);