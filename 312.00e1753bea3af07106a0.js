"use strict";(self.webpackChunkcrealogix_test=self.webpackChunkcrealogix_test||[]).push([[312],{8312:(L,l,a)=>{a.r(l),a.d(l,{StarshipsModule:()=>C});var o=a(8583),p=a(6901),t=a(639),u=a(3763),g=a(6215),m=a(8002);class d{constructor(e){if(this.name="",this.model="",this.starshipClass="",this.length="",this.MGLT="",this.maxAtmospheringSpeed="",e){let s="Large";e.length<1e3&&e.length>=100?s="Normal":e.length<100&&(s="Small"),this.name=e.name,this.model=e.model,this.length=s,this.MGLT=e.MGLT,this.starshipClass=e.starship_class,this.maxAtmospheringSpeed=e.max_atmosphering_speed}}}var S=a(1841);let c=(()=>{class i{constructor(s){this.http=s,this.starship$=new g.X(void 0)}starships$(s=""){let n="https://swapi.dev/api/starships";return""!==s&&(n=`${n}?search=${s}`),this.http.get(n).pipe((0,m.U)(r=>r.results.map(h=>new d(h))))}getStarship(){return this.starship$.asObservable()}setStarship(s){this.starship$.next(s)}}return i.\u0275fac=function(s){return new(s||i)(t.LFG(S.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Z(i,e){1&i&&(t.TgZ(0,"div",3),t._uU(1,"loading starships..."),t.qZA())}function f(i,e){if(1&i){const s=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",4),t.NdJ("click",function(){return t.CHM(s),t.oxw().initStarships()}),t._UZ(2,"i",5),t._uU(3," Show all records"),t.qZA(),t.qZA()}}function v(i,e){if(1&i){const s=t.EpF();t.TgZ(0,"tr",9),t.NdJ("click",function(){const h=t.CHM(s).$implicit;return t.oxw(2).showStarship(h)}),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.qZA()}if(2&i){const s=e.$implicit;t.xp6(2),t.Oqu(null==s?null:s.name),t.xp6(2),t.Oqu(null==s?null:s.model),t.xp6(2),t.Oqu(null==s?null:s.length)}}function T(i,e){if(1&i&&(t.ynx(0),t.TgZ(1,"div",6),t.TgZ(2,"table",7),t.TgZ(3,"thead"),t.TgZ(4,"tr"),t.TgZ(5,"th"),t._uU(6,"Name"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Model"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Length"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"tbody"),t.YNc(12,v,7,3,"tr",8),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&i){const s=e.ngIf;t.xp6(12),t.Q6J("ngForOf",s)}}const _=[{path:"",component:(()=>{class i{constructor(s,n,r){this.router=s,this.searchService=n,this.starshipService=r,this.reloadList=!1,this.searchValue$=this.searchService.getSearchValue$().subscribe(h=>{""===h?this.initStarships():(this.reloadList=!0,this.onSearchStarships(h))})}ngOnInit(){this.initStarships()}ngOnDestroy(){this.searchValue$&&this.searchValue$.unsubscribe()}initStarships(){this.reloadList=!1,this.starships$=this.starshipService.starships$()}onSearchStarships(s){this.starships$=this.starshipService.starships$(s)}showStarship(s){this.starshipService.setStarship(s),this.router.navigate(["/starships/view"]).then()}}return i.\u0275fac=function(s){return new(s||i)(t.Y36(p.F0),t.Y36(u.o),t.Y36(c))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-starship-list"]],decls:5,vars:5,consts:[["loading",""],[4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"loading","ms-3"],[1,"btn","btn-outline-primary","mb-3","ms-3",3,"click"],[1,"fa","fa-refresh"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(s,n){if(1&s&&(t.YNc(0,Z,2,0,"ng-template",null,0,t.W1O),t.YNc(2,f,4,0,"div",1),t.YNc(3,T,13,1,"ng-container",2),t.ALo(4,"async")),2&s){const r=t.MAs(1);t.xp6(2),t.Q6J("ngIf",n.reloadList),t.xp6(1),t.Q6J("ngIf",t.lcZ(4,3,n.starships$))("ngIfElse",r)}},directives:[o.O5,o.sg],pipes:[o.Ov],styles:[""]}),i})()},{path:"view",component:(()=>{class i{constructor(s,n){this.router=s,this.starshipService=n,this.starship$=this.starshipService.getStarship().subscribe(r=>{r?this.starship=r:this.router.navigate(["/starships"]).then()})}ngOnInit(){}ngOnDestroy(){this.starship$&&this.starship$.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)(t.Y36(p.F0),t.Y36(c))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-starship-view"]],decls:29,vars:7,consts:[[1,"card","mx-3"],[1,"card-body"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-chevron-left"]],template:function(s,n){1&s&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"p"),t.TgZ(3,"span"),t._uU(4,"Name:"),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"p"),t.TgZ(7,"span"),t._uU(8,"Model:"),t.qZA(),t._uU(9),t.qZA(),t.TgZ(10,"p"),t.TgZ(11,"span"),t._uU(12,"Starship Class:"),t.qZA(),t._uU(13),t.qZA(),t.TgZ(14,"p"),t.TgZ(15,"span"),t._uU(16,"Max Atmosphering Speed:"),t.qZA(),t._uU(17),t.qZA(),t.TgZ(18,"p"),t.TgZ(19,"span"),t._uU(20,"Length:"),t.qZA(),t._uU(21),t.qZA(),t.TgZ(22,"p"),t.TgZ(23,"span"),t._uU(24,"MGLT:"),t.qZA(),t._uU(25),t.qZA(),t.TgZ(26,"button",2),t._UZ(27,"i",3),t._uU(28," GO BACK"),t.qZA(),t.qZA(),t.qZA()),2&s&&(t.xp6(5),t.hij(" ",null==n.starship?null:n.starship.name,""),t.xp6(4),t.hij(" ",null==n.starship?null:n.starship.model,""),t.xp6(4),t.hij(" ",null==n.starship?null:n.starship.starshipClass,""),t.xp6(4),t.hij(" ",null==n.starship?null:n.starship.maxAtmospheringSpeed,""),t.xp6(4),t.hij(" ",null==n.starship?null:n.starship.length,""),t.xp6(4),t.hij(" ",null==n.starship?null:n.starship.MGLT,""),t.xp6(1),t.Q6J("routerLink","/starships"))},directives:[p.rH],styles:["span[_ngcontent-%COMP%]{font-weight:bold}"]}),i})()}];let A=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[p.Bz.forChild(_)],p.Bz]}),i})(),C=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[o.ez,A]]}),i})()}}]);