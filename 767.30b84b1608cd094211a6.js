"use strict";(self.webpackChunkcrealogix_test=self.webpackChunkcrealogix_test||[]).push([[767],{6767:(q,u,r)=>{r.r(u),r.d(u,{FilmsModule:()=>C});var c=r(8583),m=r(6901),i=r(639),f=r(6215),p=r(8002);class h{constructor(l){this.director="",this.episodeId=0,this.producer="",this.releaseDate="",this.title="",this.openingCrawl="",l&&(this.director=l.director,this.episodeId=l.episode_id,this.producer=l.producer,this.releaseDate=l.release_date,this.title=l.title,this.openingCrawl=l.opening_crawl)}}var d=r(1841);let a=(()=>{class t{constructor(e){this.http=e,this.film$=new f.X(void 0)}films$(e=""){let n="https://swapi.dev/api/films";return""!==e&&(n=`${n}?search=${e}`),this.http.get(n).pipe((0,p.U)(s=>s.results.map(o=>new h(o))))}getFilm(){return this.film$.asObservable()}setFilm(e){this.film$.next(e)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(d.eN))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=r(3763);function Z(t,l){1&t&&(i.TgZ(0,"div",3),i._uU(1,"loading films..."),i.qZA())}function F(t,l){if(1&t){const e=i.EpF();i.TgZ(0,"div"),i.TgZ(1,"button",4),i.NdJ("click",function(){return i.CHM(e),i.oxw().initFilms()}),i._UZ(2,"i",5),i._uU(3," Show all records"),i.qZA(),i.qZA()}}function v(t,l){if(1&t){const e=i.EpF();i.TgZ(0,"tr",9),i.NdJ("click",function(){const o=i.CHM(e).$implicit;return i.oxw(2).showFilm(o)}),i.TgZ(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td"),i._uU(6),i.qZA(),i.qZA()}if(2&t){const e=l.$implicit;i.xp6(2),i.Oqu(null==e?null:e.title),i.xp6(2),i.Oqu(null==e?null:e.director),i.xp6(2),i.Oqu(null==e?null:e.releaseDate)}}function T(t,l){if(1&t&&(i.ynx(0),i.TgZ(1,"div",6),i.TgZ(2,"table",7),i.TgZ(3,"thead"),i.TgZ(4,"tr"),i.TgZ(5,"th"),i._uU(6,"Title"),i.qZA(),i.TgZ(7,"th"),i._uU(8,"Director"),i.qZA(),i.TgZ(9,"th"),i._uU(10,"Release Date"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(11,"tbody"),i.YNc(12,v,7,3,"tr",8),i.qZA(),i.qZA(),i.qZA(),i.BQk()),2&t){const e=l.ngIf;i.xp6(12),i.Q6J("ngForOf",e)}}const _=[{path:"",component:(()=>{class t{constructor(e,n,s){this.router=e,this.filmService=n,this.searchService=s,this.reloadList=!1,this.searchValue$=this.searchService.getSearchValue$().subscribe(o=>{""===o?this.initFilms():(this.reloadList=!0,this.onSearchFilms(o))})}ngOnInit(){this.initFilms()}ngOnDestroy(){this.searchValue$&&this.searchValue$.unsubscribe()}initFilms(){this.reloadList=!1,this.films$=this.filmService.films$()}onSearchFilms(e){this.films$=this.filmService.films$(e)}showFilm(e){this.filmService.setFilm(e),this.router.navigate(["/films/view"]).then()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(m.F0),i.Y36(a),i.Y36(g.o))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-film-list"]],decls:5,vars:5,consts:[["loading",""],[4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"loading","ms-3"],[1,"btn","btn-outline-primary","mb-3","ms-3",3,"click"],[1,"fa","fa-refresh"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(e,n){if(1&e&&(i.YNc(0,Z,2,0,"ng-template",null,0,i.W1O),i.YNc(2,F,4,0,"div",1),i.YNc(3,T,13,1,"ng-container",2),i.ALo(4,"async")),2&e){const s=i.MAs(1);i.xp6(2),i.Q6J("ngIf",n.reloadList),i.xp6(1),i.Q6J("ngIf",i.lcZ(4,3,n.films$))("ngIfElse",s)}},directives:[c.O5,c.sg],pipes:[c.Ov],styles:[""]}),t})()},{path:"view",component:(()=>{class t{constructor(e,n){this.router=e,this.filmService=n,this.film$=this.filmService.getFilm().subscribe(s=>{s?this.film=s:this.router.navigate(["/films"]).then()})}ngOnInit(){}ngOnDestroy(){this.film$&&this.film$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(m.F0),i.Y36(a))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-film-view"]],decls:30,vars:7,consts:[[1,"card","mx-3"],[1,"card-body"],[1,"fw-bold"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-chevron-left"]],template:function(e,n){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"p"),i.TgZ(3,"span",2),i._uU(4,"Title:"),i.qZA(),i._uU(5),i.qZA(),i.TgZ(6,"p"),i.TgZ(7,"span",2),i._uU(8,"Director:"),i.qZA(),i._uU(9),i.qZA(),i.TgZ(10,"p"),i.TgZ(11,"span",2),i._uU(12,"Producer Class:"),i.qZA(),i._uU(13),i.qZA(),i.TgZ(14,"p"),i.TgZ(15,"span",2),i._uU(16,"Release Date:"),i.qZA(),i._uU(17),i.qZA(),i.TgZ(18,"p"),i.TgZ(19,"span",2),i._uU(20,"Episode ID:"),i.qZA(),i._uU(21),i.qZA(),i.TgZ(22,"p"),i.TgZ(23,"span",2),i._uU(24,"Opening Crawl:"),i.qZA(),i.qZA(),i.TgZ(25,"p"),i._uU(26),i.qZA(),i.TgZ(27,"button",3),i._UZ(28,"i",4),i._uU(29," GO BACK"),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(5),i.hij(" ",null==n.film?null:n.film.title,""),i.xp6(4),i.hij(" ",null==n.film?null:n.film.director,""),i.xp6(4),i.hij(" ",null==n.film?null:n.film.producer,""),i.xp6(4),i.hij(" ",null==n.film?null:n.film.releaseDate,""),i.xp6(4),i.hij(" ",null==n.film?null:n.film.episodeId,""),i.xp6(5),i.Oqu(null==n.film?null:n.film.openingCrawl),i.xp6(1),i.Q6J("routerLink","/films"))},directives:[m.rH],styles:[""]}),t})()}];let A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[m.Bz.forChild(_)],m.Bz]}),t})(),C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[c.ez,A]]}),t})()}}]);