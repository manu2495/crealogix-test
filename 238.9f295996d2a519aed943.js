"use strict";(self.webpackChunkcrealogix_test=self.webpackChunkcrealogix_test||[]).push([[238],{1238:(U,u,l)=>{l.r(u),l.d(u,{VehiclesModule:()=>q});var a=l(8583),r=l(6901),e=l(639),p=l(3763),g=l(6215),m=l(8002);class d{constructor(s){this.name="",this.crew="",this.model="",this.passengers="",this.manufacturer="",this.costInCredits="",s&&(this.name=s.name,this.crew=s.crew,this.model=s.model,this.passengers=s.passengers,this.manufacturer=s.manufacturer,this.costInCredits=s.cost_in_credits)}}var f=l(1841);let v=(()=>{class t{constructor(i){this.http=i,this.vehicle$=new g.X(void 0)}vehicles$(i=""){let n="https://swapi.dev/api/vehicles";return""!==i&&(n=`${n}?search=${i}`),this.http.get(n).pipe((0,m.U)(c=>c.results.map(o=>new d(o))))}getVehicle(){return this.vehicle$.asObservable()}setVehicle(i){this.vehicle$.next(i)}}return t.\u0275fac=function(i){return new(i||t)(e.LFG(f.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Z(t,s){1&t&&(e.TgZ(0,"div",3),e._uU(1,"loading vehicles..."),e.qZA())}function V(t,s){if(1&t){const i=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"button",4),e.NdJ("click",function(){return e.CHM(i),e.oxw().initVehicles()}),e._UZ(2,"i",5),e._uU(3," Show all records"),e.qZA(),e.qZA()}}function T(t,s){if(1&t){const i=e.EpF();e.TgZ(0,"tr",9),e.NdJ("click",function(){const o=e.CHM(i).$implicit;return e.oxw(2).showVehicle(o)}),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.qZA()}if(2&t){const i=s.$implicit;e.xp6(2),e.Oqu(null==i?null:i.name),e.xp6(2),e.Oqu(null==i?null:i.model),e.xp6(2),e.Oqu(null==i?null:i.manufacturer)}}function _(t,s){if(1&t&&(e.ynx(0),e.TgZ(1,"div",6),e.TgZ(2,"table",7),e.TgZ(3,"thead"),e.TgZ(4,"tr"),e.TgZ(5,"th"),e._uU(6,"Name"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Model"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Manufacturer"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"tbody"),e.YNc(12,T,7,3,"tr",8),e.qZA(),e.qZA(),e.qZA(),e.BQk()),2&t){const i=s.ngIf;e.xp6(12),e.Q6J("ngForOf",i)}}const A=[{path:"",component:(()=>{class t{constructor(i,n,c,o){this.router=i,this.searchService=n,this.vehicleService=c,this.activatedRoute=o,this.hasParams=!1,this.reloadList=!1,this.activatedRoute.queryParams.subscribe(h=>{h&&h.search?(this.hasParams=!0,this.reloadList=!0,this.onSearchVehicles(h.search),this.searchService.setSearchValues$(h.search,"/vehicles")):this.initVehicles()}),this.searchValue$=this.searchService.getSearchValue$().subscribe(h=>{""!==h&&(this.reloadList=!0,this.onSearchVehicles(h))})}ngOnInit(){}ngOnDestroy(){this.searchValue$&&this.searchValue$.unsubscribe()}initVehicles(){this.reloadList=!1,this.vehicles$=this.vehicleService.vehicles$(),this.hasParams&&this.router.navigate(["/vehicles"]).then(()=>{this.hasParams=!1})}onSearchVehicles(i){this.vehicles$=this.vehicleService.vehicles$(i)}showVehicle(i){this.vehicleService.setVehicle(i),this.router.navigate(["/vehicles/view"]).then()}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(r.F0),e.Y36(p.o),e.Y36(v),e.Y36(r.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-vehicle-list"]],decls:5,vars:5,consts:[["loading",""],[4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"loading","ms-3"],[1,"btn","btn-outline-primary","mb-3","ms-3",3,"click"],[1,"fa","fa-refresh"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(i,n){if(1&i&&(e.YNc(0,Z,2,0,"ng-template",null,0,e.W1O),e.YNc(2,V,4,0,"div",1),e.YNc(3,_,13,1,"ng-container",2),e.ALo(4,"async")),2&i){const c=e.MAs(1);e.xp6(2),e.Q6J("ngIf",n.reloadList),e.xp6(1),e.Q6J("ngIf",e.lcZ(4,3,n.vehicles$))("ngIfElse",c)}},directives:[a.O5,a.sg],pipes:[a.Ov],styles:[""]}),t})()},{path:"view",component:(()=>{class t{constructor(i,n){this.router=i,this.vehicleService=n,this.vehicle$=this.vehicleService.getVehicle().subscribe(c=>{c?this.vehicle=c:this.router.navigate(["/vehicles"]).then()})}ngOnInit(){}ngOnDestroy(){this.vehicle$&&this.vehicle$.unsubscribe()}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(r.F0),e.Y36(v))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-vehicle-view"]],decls:29,vars:7,consts:[[1,"card","mx-3"],[1,"card-body"],[1,"fw-bold"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-chevron-left"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"p"),e.TgZ(3,"span",2),e._uU(4,"Name:"),e.qZA(),e._uU(5),e.qZA(),e.TgZ(6,"p"),e.TgZ(7,"span",2),e._uU(8,"Model:"),e.qZA(),e._uU(9),e.qZA(),e.TgZ(10,"p"),e.TgZ(11,"span",2),e._uU(12,"Crew:"),e.qZA(),e._uU(13),e.qZA(),e.TgZ(14,"p"),e.TgZ(15,"span",2),e._uU(16,"Manufacturer:"),e.qZA(),e._uU(17),e.qZA(),e.TgZ(18,"p"),e.TgZ(19,"span",2),e._uU(20,"Passengers:"),e.qZA(),e._uU(21),e.qZA(),e.TgZ(22,"p"),e.TgZ(23,"span",2),e._uU(24,"Cost in Credits:"),e.qZA(),e._uU(25),e.qZA(),e.TgZ(26,"button",3),e._UZ(27,"i",4),e._uU(28," GO BACK"),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(5),e.hij(" ",null==n.vehicle?null:n.vehicle.name,""),e.xp6(4),e.hij(" ",null==n.vehicle?null:n.vehicle.model,""),e.xp6(4),e.hij(" ",null==n.vehicle?null:n.vehicle.crew,""),e.xp6(4),e.hij(" ",null==n.vehicle?null:n.vehicle.manufacturer,""),e.xp6(4),e.hij(" ",null==n.vehicle?null:n.vehicle.passengers,""),e.xp6(4),e.hij(" ",null==n.vehicle?null:n.vehicle.costInCredits,""),e.xp6(1),e.Q6J("routerLink","/vehicles"))},directives:[r.rH],styles:[""]}),t})()}];let C=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[r.Bz.forChild(A)],r.Bz]}),t})(),q=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[a.ez,C]]}),t})()}}]);