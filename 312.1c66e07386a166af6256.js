"use strict";(self.webpackChunkcrealogix_test=self.webpackChunkcrealogix_test||[]).push([[312],{8312:(q,c,n)=>{n.r(c),n.d(c,{StarshipsModule:()=>L});var l=n(8583),o=n(6901),t=n(639),g=n(3763),m=n(6215),d=n(8002);class S{constructor(e){if(this.name="",this.model="",this.starshipClass="",this.length="",this.MGLT="",this.maxAtmospheringSpeed="",e){let s="Large";e.length<1e3&&e.length>=100?s="Normal":e.length<100&&(s="Small"),this.name=e.name,this.model=e.model,this.length=s,this.MGLT=e.MGLT,this.starshipClass=e.starship_class,this.maxAtmospheringSpeed=e.max_atmosphering_speed}}}var Z=n(1841);let u=(()=>{class i{constructor(s){this.http=s,this.starship$=new m.X(void 0)}starships$(s=""){let r="https://swapi.dev/api/starships";return""!==s&&(r=`${r}?search=${s}`),this.http.get(r).pipe((0,d.U)(a=>a.results.map(p=>new S(p))))}getStarship(){return this.starship$.asObservable()}setStarship(s){this.starship$.next(s)}}return i.\u0275fac=function(s){return new(s||i)(t.LFG(Z.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function f(i,e){1&i&&(t.TgZ(0,"div",3),t._uU(1,"loading starships..."),t.qZA())}function v(i,e){if(1&i){const s=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",4),t.NdJ("click",function(){return t.CHM(s),t.oxw().initStarships()}),t._UZ(2,"i",5),t._uU(3," Show all records"),t.qZA(),t.qZA()}}function T(i,e){if(1&i){const s=t.EpF();t.TgZ(0,"tr",9),t.NdJ("click",function(){const p=t.CHM(s).$implicit;return t.oxw(2).showStarship(p)}),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.qZA()}if(2&i){const s=e.$implicit;t.xp6(2),t.Oqu(null==s?null:s.name),t.xp6(2),t.Oqu(null==s?null:s.model),t.xp6(2),t.Oqu(null==s?null:s.length)}}function _(i,e){if(1&i&&(t.ynx(0),t.TgZ(1,"div",6),t.TgZ(2,"table",7),t.TgZ(3,"thead"),t.TgZ(4,"tr"),t.TgZ(5,"th"),t._uU(6,"Name"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Model"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Length"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"tbody"),t.YNc(12,T,7,3,"tr",8),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&i){const s=e.ngIf;t.xp6(12),t.Q6J("ngForOf",s)}}const A=[{path:"",component:(()=>{class i{constructor(s,r,a,p){this.router=s,this.searchService=r,this.activatedRoute=a,this.starshipService=p,this.hasParams=!1,this.reloadList=!1,this.activatedRoute$=this.activatedRoute.queryParams.subscribe(h=>{h&&h.search?(this.hasParams=!0,this.reloadList=!0,this.onSearchStarships(h.search),this.searchService.setSearchValues$(h.search,"/starships")):this.initStarships()}),this.searchValue$=this.searchService.getSearchValue$().subscribe(h=>{h&&"/starships"===h.fromUrl&&(this.reloadList=!0,this.onSearchStarships(h.value))})}ngOnInit(){}ngOnDestroy(){this.searchValue$&&this.searchValue$.unsubscribe(),this.activatedRoute$&&this.activatedRoute$.unsubscribe()}initStarships(){this.reloadList=!1,this.starships$=this.starshipService.starships$(),this.hasParams&&this.router.navigate(["/starships"]).then(()=>{this.hasParams=!1})}onSearchStarships(s){this.starships$=this.starshipService.starships$(s)}showStarship(s){this.starshipService.setStarship(s),this.router.navigate(["/starships/view"]).then()}}return i.\u0275fac=function(s){return new(s||i)(t.Y36(o.F0),t.Y36(g.o),t.Y36(o.gz),t.Y36(u))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-starship-list"]],decls:5,vars:5,consts:[["loading",""],[4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"loading","ms-3"],[1,"btn","btn-outline-primary","mb-3","ms-3",3,"click"],[1,"fa","fa-refresh"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(s,r){if(1&s&&(t.YNc(0,f,2,0,"ng-template",null,0,t.W1O),t.YNc(2,v,4,0,"div",1),t.YNc(3,_,13,1,"ng-container",2),t.ALo(4,"async")),2&s){const a=t.MAs(1);t.xp6(2),t.Q6J("ngIf",r.reloadList),t.xp6(1),t.Q6J("ngIf",t.lcZ(4,3,r.starships$))("ngIfElse",a)}},directives:[l.O5,l.sg],pipes:[l.Ov],styles:[""]}),i})()},{path:"view",component:(()=>{class i{constructor(s,r){this.router=s,this.starshipService=r,this.starship$=this.starshipService.getStarship().subscribe(a=>{a?this.starship=a:this.router.navigate(["/starships"]).then()})}ngOnInit(){}ngOnDestroy(){this.starship$&&this.starship$.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)(t.Y36(o.F0),t.Y36(u))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-starship-view"]],decls:29,vars:7,consts:[[1,"card","mx-3"],[1,"card-body"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-chevron-left"]],template:function(s,r){1&s&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"p"),t.TgZ(3,"span"),t._uU(4,"Name:"),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"p"),t.TgZ(7,"span"),t._uU(8,"Model:"),t.qZA(),t._uU(9),t.qZA(),t.TgZ(10,"p"),t.TgZ(11,"span"),t._uU(12,"Starship Class:"),t.qZA(),t._uU(13),t.qZA(),t.TgZ(14,"p"),t.TgZ(15,"span"),t._uU(16,"Max Atmosphering Speed:"),t.qZA(),t._uU(17),t.qZA(),t.TgZ(18,"p"),t.TgZ(19,"span"),t._uU(20,"Length:"),t.qZA(),t._uU(21),t.qZA(),t.TgZ(22,"p"),t.TgZ(23,"span"),t._uU(24,"MGLT:"),t.qZA(),t._uU(25),t.qZA(),t.TgZ(26,"button",2),t._UZ(27,"i",3),t._uU(28," GO BACK"),t.qZA(),t.qZA(),t.qZA()),2&s&&(t.xp6(5),t.hij(" ",null==r.starship?null:r.starship.name,""),t.xp6(4),t.hij(" ",null==r.starship?null:r.starship.model,""),t.xp6(4),t.hij(" ",null==r.starship?null:r.starship.starshipClass,""),t.xp6(4),t.hij(" ",null==r.starship?null:r.starship.maxAtmospheringSpeed,""),t.xp6(4),t.hij(" ",null==r.starship?null:r.starship.length,""),t.xp6(4),t.hij(" ",null==r.starship?null:r.starship.MGLT,""),t.xp6(1),t.Q6J("routerLink","/starships"))},directives:[o.rH],styles:["span[_ngcontent-%COMP%]{font-weight:bold}"]}),i})()}];let C=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[o.Bz.forChild(A)],o.Bz]}),i})(),L=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[l.ez,C]]}),i})()}}]);