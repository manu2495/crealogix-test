"use strict";(self.webpackChunkcrealogix_test=self.webpackChunkcrealogix_test||[]).push([[810],{5810:(q,c,s)=>{s.r(c),s.d(c,{PlanetsModule:()=>C});var p=s(8583),r=s(6901),t=s(639),h=s(6215),m=s(8002);class g{constructor(l){this.climate="",this.diameter="",this.name="",this.population="",this.terrain="",l&&(this.climate=l.climate,this.diameter=l.diameter,this.name=l.name,this.population=l.population,this.terrain=l.terrain)}}var Z=s(1841);let u=(()=>{class e{constructor(n){this.http=n,this.planet$=new h.X(void 0)}planets$(n=""){let i="https://swapi.dev/api/planets";return""!==n&&(i=`${i}?search=${n}`),this.http.get(i).pipe((0,m.U)(a=>a.results.map(o=>new g(o))))}getPlanet(){return this.planet$.asObservable()}setPlanet(n){this.planet$.next(n)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(Z.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var d=s(3763);function f(e,l){1&e&&(t.TgZ(0,"div",3),t._uU(1,"loading planets..."),t.qZA())}function v(e,l){if(1&e){const n=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",4),t.NdJ("click",function(){return t.CHM(n),t.oxw().initPlanets()}),t._UZ(2,"i",5),t._uU(3," Show all records"),t.qZA(),t.qZA()}}function P(e,l){if(1&e){const n=t.EpF();t.TgZ(0,"tr",9),t.NdJ("click",function(){const o=t.CHM(n).$implicit;return t.oxw(2).showPlanet(o)}),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.qZA()}if(2&e){const n=l.$implicit;t.xp6(2),t.Oqu(null==n?null:n.name),t.xp6(2),t.Oqu(null==n?null:n.population),t.xp6(2),t.Oqu(null==n?null:n.terrain)}}function T(e,l){if(1&e&&(t.ynx(0),t.TgZ(1,"div",6),t.TgZ(2,"table",7),t.TgZ(3,"thead"),t.TgZ(4,"tr"),t.TgZ(5,"th"),t._uU(6,"Name"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Population"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Terrain"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"tbody"),t.YNc(12,P,7,3,"tr",8),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&e){const n=l.ngIf;t.xp6(12),t.Q6J("ngForOf",n)}}const _=[{path:"",component:(()=>{class e{constructor(n,i,a){this.router=n,this.planetService=i,this.searchService=a,this.reloadList=!1,this.searchValue$=this.searchService.getSearchValue$().subscribe(o=>{""===o?this.initPlanets():(this.reloadList=!0,this.onSearchPlanets(o))})}ngOnInit(){this.initPlanets()}ngOnDestroy(){this.searchValue$&&this.searchValue$.unsubscribe()}initPlanets(){this.reloadList=!1,this.planets$=this.planetService.planets$()}onSearchPlanets(n){this.planets$=this.planetService.planets$(n)}showPlanet(n){this.planetService.setPlanet(n),this.router.navigate(["/planets/view"]).then()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(r.F0),t.Y36(u),t.Y36(d.o))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-planet-list"]],decls:5,vars:5,consts:[["loading",""],[4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"loading","ms-3"],[1,"btn","btn-outline-primary","mb-3","ms-3",3,"click"],[1,"fa","fa-refresh"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(n,i){if(1&n&&(t.YNc(0,f,2,0,"ng-template",null,0,t.W1O),t.YNc(2,v,4,0,"div",1),t.YNc(3,T,13,1,"ng-container",2),t.ALo(4,"async")),2&n){const a=t.MAs(1);t.xp6(2),t.Q6J("ngIf",i.reloadList),t.xp6(1),t.Q6J("ngIf",t.lcZ(4,3,i.planets$))("ngIfElse",a)}},directives:[p.O5,p.sg],pipes:[p.Ov],styles:[""]}),e})()},{path:"view",component:(()=>{class e{constructor(n,i){this.router=n,this.planetService=i,this.planet$=this.planetService.getPlanet().subscribe(a=>{a?this.planet=a:this.router.navigate(["/planets"]).then()})}ngOnInit(){}ngOnDestroy(){this.planet$&&this.planet$.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(r.F0),t.Y36(u))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-planet-view"]],decls:25,vars:6,consts:[[1,"card","mx-3"],[1,"card-body"],[1,"fw-bold"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-chevron-left"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"p"),t.TgZ(3,"span",2),t._uU(4,"Name:"),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"p"),t.TgZ(7,"span",2),t._uU(8,"Terrain:"),t.qZA(),t._uU(9),t.qZA(),t.TgZ(10,"p"),t.TgZ(11,"span",2),t._uU(12,"Population:"),t.qZA(),t._uU(13),t.qZA(),t.TgZ(14,"p"),t.TgZ(15,"span",2),t._uU(16,"Diameter:"),t.qZA(),t._uU(17),t.qZA(),t.TgZ(18,"p"),t.TgZ(19,"span",2),t._uU(20,"Climate:"),t.qZA(),t._uU(21),t.qZA(),t.TgZ(22,"button",3),t._UZ(23,"i",4),t._uU(24," GO BACK"),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(5),t.hij(" ",null==i.planet?null:i.planet.name,""),t.xp6(4),t.hij(" ",null==i.planet?null:i.planet.terrain,""),t.xp6(4),t.hij(" ",null==i.planet?null:i.planet.population,""),t.xp6(4),t.hij(" ",null==i.planet?null:i.planet.diameter,""),t.xp6(4),t.hij(" ",null==i.planet?null:i.planet.climate,""),t.xp6(1),t.Q6J("routerLink","/planets"))},directives:[r.rH],styles:[""]}),e})()}];let A=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[r.Bz.forChild(_)],r.Bz]}),e})(),C=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[p.ez,A]]}),e})()}}]);